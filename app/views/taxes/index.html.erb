<!-- Header -->
<%= render "shared/title", title: "Taxes" %>

<!-- Month navigation -->
<%= render "shared/month_nav", current_date: @current_date %>

<!-- Quick Add Form -->
<%= render "quick_add_form", tax: @tax %>

<div class="rounded-lg bg-white shadow-sm">
  <div class="border-b border-gray-300 px-6 py-4 font-medium">
    All Taxes
  </div>

  <% if @taxes.any? %>
    <ul class="divide-y">
      <% @taxes.each do |t| %>
        <li class="flex items-center justify-between px-6 py-3 border-b border-gray-100 group">
          <div>
            <div class="text-sm text-gray-500">
              <%= t.date.strftime("%b %d, %Y") %>
              <%= t.note.present? ? "â€” #{t.note}" : "" %>
            </div>
          </div>

          <div class="flex items-center gap-4">
            <span class="font-semibold text-orange-600"><%= number_to_eur(t.amount) %></span>
            <div class="flex gap-2 items-center opacity-0 group-hover:opacity-100 transition-opacity">
              <%= link_to "Edit", edit_tax_path(t), class: "text-sm text-gray-500 hover:text-black" %>
              <%= link_to "Delete", tax_path(t), data: { turbo_method: :delete, turbo_confirm: "Delete this tax?" }, class: "text-sm text-gray-500 hover:text-red-600" %>
            </div>
          </div>
        </li>
      <% end %>
    </ul>
  <% else %>
    <div class="px-6 py-8 text-center text-sm text-gray-500">
      No taxes yet.
    </div>
  <% end %>
</div>
